{"ast":null,"code":"import _toConsumableArray from\"/home/speudal/Documents/AccMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/speudal/Documents/AccMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Header from\"./Header\";import{AiOutlineDelete}from\"react-icons/ai\";import\"../Styles/Home.css\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{IconContext}from\"react-icons/lib\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var localStoragePlatforms=JSON.parse(localStorage.getItem(\"platforms\"));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),addingPlatform=_useState2[0],setAddingPlatform=_useState2[1];var _useState3=useState(localStoragePlatforms!==null&&localStoragePlatforms!==void 0?localStoragePlatforms:[]),_useState4=_slicedToArray(_useState3,2),platforms=_useState4[0],setPlatforms=_useState4[1];var onHitEnter=function onHitEnter(name){if(name===\"\"||name.startsWith(\"?\"))return;setPlatforms([].concat(_toConsumableArray(platforms),[name]));localStorage.setItem(\"platforms\",JSON.stringify([].concat(_toConsumableArray(platforms),[name])));toggleAddPlatform();};var deletePlatform=function deletePlatform(name){var res=window.confirm(\"Do you really want to delete the platform \".concat(name,\" ?\"));if(res){localStorage.setItem(\"platforms\",JSON.stringify(platforms.filter(function(platform){return platform!==name;})));localStorage.removeItem(\"\".concat(name,\";columns\"));localStorage.removeItem(\"\".concat(name,\";entries\"));setPlatforms(platforms.filter(function(platform){return platform!==name;}));}};var onInputHandler=function onInputHandler(e){if(e.key===\"Enter\")onHitEnter(e.target.value);};var toggleAddPlatform=function toggleAddPlatform(){setAddingPlatform(!addingPlatform);};var onSubmitForm=function onSubmitForm(e){e.preventDefault();var name=e.target.children[0].value;onHitEnter(name);};return/*#__PURE__*/_jsxs(\"div\",{id:\"homeMainDiv\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"primaryButton\",onClick:toggleAddPlatform,children:[\"Add a platform\",\" \"]})}),addingPlatform&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitForm,children:[/*#__PURE__*/_jsx(\"input\",{className:\"addInput\",type:\"text\",onKeyDown:onInputHandler,placeholder:\"Platform name\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancelButton button\",onClick:toggleAddPlatform,children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"validateSubmit\",className:\"validateButton button\",value:\"\\u2714\"})]}),platforms.map(function(platform){return/*#__PURE__*/_jsxs(\"div\",{className:\"platformLink\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/platform/\".concat(encodeURI(platform)),children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"buttonLink\",children:platform})]}),/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:\"white\"},children:/*#__PURE__*/_jsx(AiOutlineDelete,{className:\"buttonDelete\",stroke:\"white\",strokeWidth:1,onClick:function onClick(){deletePlatform(platform);},name:platform})})]},platform);})]});};export default Home;","map":{"version":3,"sources":["/home/speudal/Documents/AccMan/src/Components/Home.js"],"names":["Header","AiOutlineDelete","Link","useState","IconContext","Home","localStoragePlatforms","JSON","parse","localStorage","getItem","addingPlatform","setAddingPlatform","platforms","setPlatforms","onHitEnter","name","startsWith","setItem","stringify","toggleAddPlatform","deletePlatform","res","window","confirm","filter","platform","removeItem","onInputHandler","e","key","target","value","onSubmitForm","preventDefault","children","map","encodeURI","color"],"mappings":"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","sourcesContent":["import Header from \"./Header\";\nimport { AiOutlineDelete } from \"react-icons/ai\";\nimport \"../Styles/Home.css\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { IconContext } from \"react-icons/lib\";\n\nconst Home = () => {\n  const localStoragePlatforms = JSON.parse(localStorage.getItem(\"platforms\"));\n  const [addingPlatform, setAddingPlatform] = useState(false);\n  const [platforms, setPlatforms] = useState(localStoragePlatforms ?? []);\n\n  const onHitEnter = (name) => {\n    if (name === \"\" || name.startsWith(\"?\")) return;\n    setPlatforms([...platforms, name]);\n    localStorage.setItem(\"platforms\", JSON.stringify([...platforms, name]));\n    toggleAddPlatform();\n  };\n\n  const deletePlatform = (name) => {\n    const res = window.confirm(\n      `Do you really want to delete the platform ${name} ?`\n    );\n    if (res) {\n      localStorage.setItem(\n        \"platforms\",\n        JSON.stringify(platforms.filter((platform) => platform !== name))\n      );\n      localStorage.removeItem(`${name};columns`);\n      localStorage.removeItem(`${name};entries`);\n      setPlatforms(platforms.filter((platform) => platform !== name));\n    }\n  };\n\n  const onInputHandler = (e) => {\n    if (e.key === \"Enter\") onHitEnter(e.target.value);\n  };\n\n  const toggleAddPlatform = () => {\n    setAddingPlatform(!addingPlatform);\n  };\n\n  const onSubmitForm = (e) => {\n    e.preventDefault();\n    const name = e.target.children[0].value;\n\n    onHitEnter(name);\n  };\n\n  return (\n    <div id=\"homeMainDiv\">\n      <Header />\n      <div>\n        <button className=\"primaryButton\" onClick={toggleAddPlatform}>\n          Add a platform{\" \"}\n        </button>\n      </div>\n      {addingPlatform && (\n        <form onSubmit={onSubmitForm}>\n          <input\n            className=\"addInput\"\n            type=\"text\"\n            onKeyDown={onInputHandler}\n            placeholder=\"Platform name\"\n          ></input>\n          <button className=\"cancelButton button\" onClick={toggleAddPlatform}>\n            ✖\n          </button>\n          <input\n            type=\"submit\"\n            id=\"validateSubmit\"\n            className=\"validateButton button\"\n            value=\"✔\"\n          ></input>\n        </form>\n      )}\n      {platforms.map((platform) => {\n        return (\n          <div className=\"platformLink\" key={platform}>\n            <Link to={`/platform/${encodeURI(platform)}`}>\n              {\" \"}\n              <button className=\"buttonLink\">{platform}</button>\n            </Link>\n            <IconContext.Provider value={{ color: \"white\" }}>\n              <AiOutlineDelete\n                className=\"buttonDelete\"\n                stroke=\"white\"\n                strokeWidth={1}\n                onClick={() => {\n                  deletePlatform(platform);\n                }}\n                name={platform}\n              />\n            </IconContext.Provider>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}